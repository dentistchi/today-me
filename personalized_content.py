"""
í”„ë¡œíŒŒì¼ ìœ í˜• ì„¤ëª… ë° ë§ì¶¤í˜• ë¡œë“œë§µ ìƒì„±ê¸°
===========================================
- 6ê°€ì§€ í”„ë¡œíŒŒì¼ ìœ í˜•ë³„ ìƒì„¸ ì„¤ëª…
- ê°œì¸í™”ëœ 4ì£¼ ì„±ì¥ ë¡œë“œë§µ
- 5ì°¨ì› ì˜¤ê°í˜• ê·¸ë˜í”„ ë°ì´í„°
"""

from typing import Dict, List, Tuple

# ==================== í”„ë¡œíŒŒì¼ ìœ í˜• ì„¤ëª… ====================

PROFILE_TYPES = {
    'vulnerable': {
        'name': 'ì·¨ì•½í˜• (Vulnerable)',
        'emoji': 'ğŸŒ±',
        'short_desc': 'ì§€ê¸ˆì€ í˜ë“  ì‹œê¸°, í•˜ì§€ë§Œ ì„±ì¥ì˜ ì”¨ì•—ì´ ìˆìŠµë‹ˆë‹¤',
        'full_desc': '''
ë‹¹ì‹ ì€ ì§€ê¸ˆ ìì‹ ì— ëŒ€í•´ ë§¤ìš° ê°€í˜¹í•œ ì‹œê¸°ë¥¼ ë³´ë‚´ê³  ìˆìŠµë‹ˆë‹¤.

**ë‹¹ì‹ ì˜ íŠ¹ì§•:**
â€¢ ì‹¤ìˆ˜ë‚˜ ì‹¤íŒ¨ì— ëŒ€í•´ ìŠ¤ìŠ¤ë¡œë¥¼ ê°•í•˜ê²Œ ë¹„ë‚œí•©ë‹ˆë‹¤
â€¢ "ë‚˜ëŠ” ë¶€ì¡±í•´"ë¼ëŠ” ìƒê°ì´ ìì£¼ ë“­ë‹ˆë‹¤
â€¢ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì˜ í‰ê°€ê°€ ë§¤ìš° ì‹ ê²½ ì“°ì…ë‹ˆë‹¤
â€¢ ì¹­ì°¬ì„ ë°›ì•„ë„ ì§„ì‹¬ìœ¼ë¡œ ë¯¿ê¸° ì–´ë µìŠµë‹ˆë‹¤

**ì¤‘ìš”í•œ ì§„ì‹¤:**
ë‹¹ì‹ ì˜ ìê¸°ë¹„íŒì€ ë‹¹ì‹ ì´ "ë‚˜ìœ ì‚¬ëŒ"ì´ë¼ëŠ” ì¦ê±°ê°€ ì•„ë‹™ë‹ˆë‹¤.
ì˜¤íˆë ¤ "ë” ë‚˜ì€ ì‚¬ëŒì´ ë˜ê³  ì‹¶ì€" ì•„ë¦„ë‹¤ìš´ ë§ˆìŒì˜ ì¦ê±°ì…ë‹ˆë‹¤.

ì‹¬ë¦¬í•™ì Kristin Neffì˜ ì—°êµ¬ì— ë”°ë¥´ë©´, ìê¸°ë¹„íŒì´ ê°•í•œ ì‚¬ëŒë“¤ì€ 
ì‹¤ì œë¡œëŠ” ë§¤ìš° ë†’ì€ ê¸°ì¤€ì„ ê°€ì§„ ì„±ì‹¤í•œ ì‚¬ëŒë“¤ì…ë‹ˆë‹¤.

**ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ê²ƒ:**
â€¢ ìê¸° ì¹œì ˆ (Self-Kindness): ì‹¤ìˆ˜í–ˆì„ ë•Œ ìì‹ ì„ ê¾¸ì§–ëŠ” ëŒ€ì‹  ìœ„ë¡œí•˜ê¸°
â€¢ ê³µí†µ ì¸ê°„ì„± (Common Humanity): "ë‚˜ë§Œ í˜ë“  ê²Œ ì•„ë‹ˆì•¼" ê¹¨ë‹«ê¸°
â€¢ ë§ˆìŒì±™ê¹€ (Mindfulness): ë¶€ì •ì  ìƒê°ì— ë¹ ì§€ì§€ ì•Šê³  ê´€ì°°í•˜ê¸°
''',
        'priority': ['ìê¸°ìë¹„', 'ìì¡´ê°_ì•ˆì •ì„±', 'ê´€ê³„ì _ë…ë¦½ì„±'],
        'focus_areas': {
            'primary': 'ìê¸°ìë¹„ ê¸°ë¥´ê¸°',
            'secondary': 'ë‚´ë©´ì˜ ë¹„íŒì ë‹¤ë£¨ê¸°',
            'tertiary': 'ì•ˆì „í•œ ì—°ê²° ë§Œë“¤ê¸°'
        }
    },
    
    'developing_critic': {
        'name': 'ë°œì „í˜• - ìê¸°ë¹„íŒ ê²½í–¥ (Developing with Self-Criticism)',
        'emoji': 'ğŸŒ¿',
        'short_desc': 'ì„±ì¥í•˜ê³  ìˆì§€ë§Œ, ìì‹ ì—ê²Œ ë„ˆë¬´ ì—„ê²©í•©ë‹ˆë‹¤',
        'full_desc': '''
ë‹¹ì‹ ì€ ì„±ì¥ì˜ í•œê°€ìš´ë°ì— ìˆìŠµë‹ˆë‹¤. ìì¡´ê°ì˜ ê¸°ì´ˆëŠ” ìˆì§€ë§Œ, 
ìŠ¤ìŠ¤ë¡œì—ê²Œ ì—¬ì „íˆ ê°€í˜¹í•œ ë©´ì´ ìˆìŠµë‹ˆë‹¤.

**ë‹¹ì‹ ì˜ íŠ¹ì§•:**
â€¢ ì¢‹ì€ ë‚ ê³¼ í˜ë“  ë‚ ì´ ë°˜ë³µë©ë‹ˆë‹¤
â€¢ ë•Œë¡œëŠ” ìì‹ ê°ì´ ë„˜ì¹˜ë‹¤ê°€ë„ ê°‘ìê¸° ë¶ˆì•ˆí•´ì§‘ë‹ˆë‹¤
â€¢ ë†’ì€ ê¸°ì¤€ì„ ê°€ì§€ê³  ìˆì§€ë§Œ, ê·¸ê²ƒì´ ë•Œë¡œëŠ” ë¶€ë‹´ì´ ë©ë‹ˆë‹¤
â€¢ ì„±ì¥í•˜ê³  ì‹¶ì§€ë§Œ ë°©ë²•ì„ ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤

**ë‹¹ì‹ ì˜ ê°•ì :**
â€¢ ì´ë¯¸ ìì¡´ê°ì˜ ê¸°ì´ˆë¥¼ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤
â€¢ ìê¸° ì„±ì°° ëŠ¥ë ¥ì´ ë›°ì–´ë‚©ë‹ˆë‹¤
â€¢ ì„±ì¥ì— ëŒ€í•œ ê°•í•œ ë™ê¸°ê°€ ìˆìŠµë‹ˆë‹¤

**ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ê²ƒ:**
â€¢ ì™„ë²½ì£¼ì˜ë¥¼ ë‚´ë ¤ë†“ê¸°: "80%ë„ ì¶©ë¶„íˆ ì¢‹ë‹¤"
â€¢ ê³¼ì •ì„ ì¤‘ì‹œí•˜ê¸°: ê²°ê³¼ë¿ ì•„ë‹ˆë¼ ë…¸ë ¥ì„ ì¸ì •í•˜ê¸°
â€¢ ì‹¤ìˆ˜ë¥¼ í•™ìŠµ ê¸°íšŒë¡œ ì¬í•´ì„í•˜ê¸°
''',
        'priority': ['ìê¸°ìë¹„', 'ì„±ì¥_ë§ˆì¸ë“œì…‹', 'ìì¡´ê°_ì•ˆì •ì„±'],
        'focus_areas': {
            'primary': 'ì™„ë²½ì£¼ì˜ ë‚´ë ¤ë†“ê¸°',
            'secondary': 'ì„±ì¥ ë§ˆì¸ë“œì…‹ ê°•í™”',
            'tertiary': 'ìê¸° ìˆ˜ìš© ì—°ìŠµ'
        }
    },
    
    'developing_balanced': {
        'name': 'ë°œì „í˜• - ê· í˜•ì¡íŒ (Developing with Balance)',
        'emoji': 'ğŸŒ³',
        'short_desc': 'ê· í˜•ì¡íˆê²Œ ì„±ì¥í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤',
        'full_desc': '''
ë‹¹ì‹ ì€ ë§¤ìš° ê±´ê°•í•œ ë°©í–¥ìœ¼ë¡œ ì„±ì¥í•˜ê³  ìˆìŠµë‹ˆë‹¤. 
ìì‹ ì„ ìˆëŠ” ê·¸ëŒ€ë¡œ ë°›ì•„ë“¤ì´ë©´ì„œë„ ë” ë‚˜ì•„ì§€ë ¤ ë…¸ë ¥í•©ë‹ˆë‹¤.

**ë‹¹ì‹ ì˜ íŠ¹ì§•:**
â€¢ ìì‹ ì˜ ê°•ì ê³¼ ì•½ì ì„ í˜„ì‹¤ì ìœ¼ë¡œ ì¸ì‹í•©ë‹ˆë‹¤
â€¢ ì‹¤ìˆ˜ë¥¼ í–ˆì„ ë•Œ ìì‹ ì„ ìš©ì„œí•  ì¤„ ì••ë‹ˆë‹¤
â€¢ íƒ€ì¸ì˜ í‰ê°€ë¥¼ ì°¸ê³ í•˜ë˜, íœ˜ë‘˜ë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤
â€¢ ì§€ì†ì ì¸ ì„±ì¥ì— ëŒ€í•œ ì—´ì •ì´ ìˆìŠµë‹ˆë‹¤

**ë‹¹ì‹ ì˜ ê°•ì :**
â€¢ ìê¸°ìë¹„ì™€ ë†’ì€ ê¸°ì¤€ì˜ ê· í˜•ì„ ì˜ ë§ì¶¥ë‹ˆë‹¤
â€¢ ì•ˆì •ì ì¸ ìì¡´ê°ì˜ í† ëŒ€ë¥¼ êµ¬ì¶•í•˜ê³  ìˆìŠµë‹ˆë‹¤
â€¢ í˜„ì‹¤ì ì´ë©´ì„œë„ ë‚™ê´€ì ì…ë‹ˆë‹¤

**ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ê²ƒ:**
â€¢ í˜„ì¬ì˜ ê· í˜•ì„ ìœ ì§€í•˜ê¸°
â€¢ ìì¡´ê°ì„ ë”ìš± ì•ˆì •í™”ì‹œí‚¤ê¸°
â€¢ ê¹Šì€ ìê¸° ì´í•´ë¡œ ë‚˜ì•„ê°€ê¸°
''',
        'priority': ['ìì¡´ê°_ì•ˆì •ì„±', 'ì„±ì¥_ë§ˆì¸ë“œì…‹', 'ê´€ê³„ì _ë…ë¦½ì„±'],
        'focus_areas': {
            'primary': 'ì•ˆì •ì  ìì¡´ê° êµ¬ì¶•',
            'secondary': 'ì§€ì†ì  ì„±ì¥',
            'tertiary': 'ê¹Šì€ ìê¸° ì´í•´'
        }
    },
    
    'compassionate_grower': {
        'name': 'ìë¹„ë¡œìš´ ì„±ì¥ì (Compassionate Grower)',
        'emoji': 'ğŸŒ¸',
        'short_desc': 'ìì‹ ì—ê²Œ ì¹œì ˆí•˜ë©´ì„œ ì„±ì¥í•˜ëŠ” ì•„ë¦„ë‹¤ìš´ ìì„¸',
        'full_desc': '''
ë‹¹ì‹ ì€ ë§¤ìš° íŠ¹ë³„í•œ ì¡°í•©ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤: 
ìì‹ ì— ëŒ€í•œ ê¹Šì€ ìë¹„ì™€ ì„±ì¥ì— ëŒ€í•œ ì—´ë§.

**ë‹¹ì‹ ì˜ íŠ¹ì§•:**
â€¢ ì‹¤ìˆ˜ë¥¼ ì¸ê°„ì  ê²½í—˜ìœ¼ë¡œ ë°›ì•„ë“¤ì…ë‹ˆë‹¤
â€¢ ìì‹ ê³¼ íƒ€ì¸ ëª¨ë‘ì—ê²Œ ë”°ëœ»í•©ë‹ˆë‹¤
â€¢ ë„ì „ì„ ë‘ë ¤ì›Œí•˜ì§€ ì•Šìœ¼ë©´ì„œë„ ìì‹ ì„ ëŒë³¼ ì¤„ ì••ë‹ˆë‹¤
â€¢ ì§€í˜œë¡­ê²Œ ìì‹ ì˜ í•œê³„ë¥¼ ì¸ì •í•©ë‹ˆë‹¤

**ë‹¹ì‹ ì˜ ê°•ì :**
â€¢ ë†’ì€ ìˆ˜ì¤€ì˜ ìê¸°ìë¹„ë¥¼ ë³´ì…ë‹ˆë‹¤
â€¢ ì„±ì¥ ë§ˆì¸ë“œì…‹ì´ ì˜ ë°œë‹¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤
â€¢ íšŒë³µíƒ„ë ¥ì„±ì´ ë›°ì–´ë‚©ë‹ˆë‹¤

**ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ê²ƒ:**
â€¢ ì´ ê· í˜•ì„ ê³„ì† ìœ ì§€í•˜ê¸°
â€¢ ìì¡´ê°ì˜ ì•ˆì •ì„±ì„ ë” ë†’ì´ê¸°
â€¢ ìì‹ ì˜ ê²½í—˜ì„ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë‚˜ëˆ„ê¸°
''',
        'priority': ['ìì¡´ê°_ì•ˆì •ì„±', 'ê´€ê³„ì _ë…ë¦½ì„±', 'ì•”ë¬µì _ìì¡´ê°'],
        'focus_areas': {
            'primary': 'ìì¡´ê° ì•ˆì •í™”',
            'secondary': 'ë‚´ì  ìì› ê°•í™”',
            'tertiary': 'ì˜ë¯¸ìˆëŠ” ê¸°ì—¬'
        }
    },
    
    'stable_rigid': {
        'name': 'ì•ˆì •í˜• - ê²½ì§ ê²½í–¥ (Stable but Rigid)',
        'emoji': 'ğŸ—¿',
        'short_desc': 'ë†’ì€ ìì¡´ê°ì´ì§€ë§Œ ìœ ì—°ì„±ì´ í•„ìš”í•©ë‹ˆë‹¤',
        'full_desc': '''
ë‹¹ì‹ ì€ ë†’ì€ ìì¡´ê°ì„ ê°€ì§€ê³  ìˆì§€ë§Œ, ë•Œë¡œëŠ” ìì‹ ì— ëŒ€í•œ 
ê³¼ë„í•œ í™•ì‹ ì´ ì„±ì¥ì„ ê°€ë¡œë§‰ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë‹¹ì‹ ì˜ íŠ¹ì§•:**
â€¢ ìì‹ ì— ëŒ€í•œ í™•ê³ í•œ ë¯¿ìŒì´ ìˆìŠµë‹ˆë‹¤
â€¢ íƒ€ì¸ì˜ í‰ê°€ì— ì˜ í”ë“¤ë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤
â€¢ ìì‹ ì˜ ë°©ì‹ì— ëŒ€í•œ ê°•í•œ ì‹ ë…ì´ ìˆìŠµë‹ˆë‹¤
â€¢ í”¼ë“œë°±ì„ ë°›ì•„ë“¤ì´ê¸° ì–´ë ¤ìš¸ ë•Œê°€ ìˆìŠµë‹ˆë‹¤

**ì£¼ì˜í•  ì :**
â€¢ ê³ ì • ë§ˆì¸ë“œì…‹ì˜ ìœ„í—˜: "ë‚˜ëŠ” ì´ë¯¸ ì¶©ë¶„í•´"
â€¢ ë°©ì–´ì  ìì¡´ê°: ë¹„íŒì„ ê³µê²©ìœ¼ë¡œ ë°›ì•„ë“¤ì´ê¸°
â€¢ ìê¸°ìë¹„ ë¶€ì¡±: ì‹¤íŒ¨ë¥¼ ìš©ë‚©í•˜ê¸° ì–´ë ¤ì›€

**ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ê²ƒ:**
â€¢ ì„±ì¥ ë§ˆì¸ë“œì…‹ ê¸°ë¥´ê¸°: "ë‚˜ëŠ” ê³„ì† ë°œì „í•  ìˆ˜ ìˆì–´"
â€¢ ìê¸°ìë¹„ ì—°ìŠµí•˜ê¸°: "ì™„ë²½í•˜ì§€ ì•Šì•„ë„ ê´œì°®ì•„"
â€¢ ìœ ì—°ì„± ê¸°ë¥´ê¸°: ë‹¤ë¥¸ ê´€ì  ìˆ˜ìš©í•˜ê¸°
''',
        'priority': ['ì„±ì¥_ë§ˆì¸ë“œì…‹', 'ìê¸°ìë¹„', 'ê´€ê³„ì _ë…ë¦½ì„±'],
        'focus_areas': {
            'primary': 'ìœ ì—°ì„± ê¸°ë¥´ê¸°',
            'secondary': 'ì„±ì¥ ë§ˆì¸ë“œì…‹',
            'tertiary': 'ì§„ì •í•œ ìê¸°ìë¹„'
        }
    },
    
    'thriving': {
        'name': 'ë²ˆì˜í˜• (Thriving)',
        'emoji': 'ğŸŒŸ',
        'short_desc': 'ê±´ê°•í•˜ê³  ì•ˆì •ì ì¸ ìì¡´ê°ì„ ê°€ì§€ê³  ê³„ì‹­ë‹ˆë‹¤',
        'full_desc': '''
ì¶•í•˜í•©ë‹ˆë‹¤! ë‹¹ì‹ ì€ ì‹¬ë¦¬í•™ìë“¤ì´ ë§í•˜ëŠ” "True Self-Esteem"
(ì§„ì •í•œ ìì¡´ê°)ì„ ë³´ì—¬ì£¼ê³  ìˆìŠµë‹ˆë‹¤.

**ë‹¹ì‹ ì˜ íŠ¹ì§•:**
â€¢ ìì‹ ì˜ ê°€ì¹˜ê°€ ì™¸ë¶€ í‰ê°€ì— í”ë“¤ë¦¬ì§€ ì•ŠìŠµë‹ˆë‹¤
â€¢ ì‹¤íŒ¨ë¥¼ ì„±ì¥ì˜ ê¸°íšŒë¡œ ë´…ë‹ˆë‹¤
â€¢ ìì‹ ê³¼ íƒ€ì¸ì„ ëª¨ë‘ ì¡´ì¤‘í•©ë‹ˆë‹¤
â€¢ ê²¸ì†í•˜ë©´ì„œë„ ìì‹ ê°ì´ ìˆìŠµë‹ˆë‹¤

**ë‹¹ì‹ ì˜ ê°•ì :**
â€¢ ì•ˆì •ì ì´ê³  ê±´ê°•í•œ ìì¡´ê°
â€¢ ë†’ì€ ìˆ˜ì¤€ì˜ ìê¸°ìë¹„
â€¢ ì„±ì¥ ë§ˆì¸ë“œì…‹
â€¢ ê´€ê³„ì—ì„œì˜ ë…ë¦½ì„±ê³¼ ì—°ê²°ì„± ê· í˜•

**ë‹¹ì‹ ì—ê²Œ í•„ìš”í•œ ê²ƒ:**
â€¢ í˜„ì¬ì˜ ê±´ê°•í•œ ìƒíƒœ ìœ ì§€í•˜ê¸°
â€¢ ìì‹ ì˜ ê²½í—˜ì„ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ë‚˜ëˆ„ê¸°
â€¢ ë” ê¹Šì€ ìê¸° ì´í•´ì™€ ì˜ë¯¸ ì°¾ê¸°
â€¢ íƒ€ì¸ì˜ ì„±ì¥ì„ ë„ìš¸ ìˆ˜ ìˆëŠ” ë©˜í†  ì—­í• 
''',
        'priority': ['ê´€ê³„ì _ë…ë¦½ì„±', 'ì•”ë¬µì _ìì¡´ê°', 'ì„±ì¥_ë§ˆì¸ë“œì…‹'],
        'focus_areas': {
            'primary': 'ì˜ë¯¸ìˆëŠ” ê¸°ì—¬',
            'secondary': 'ì§€í˜œ ë‚˜ëˆ„ê¸°',
            'tertiary': 'ì§€ì†ì  ì„±ì¥'
        }
    }
}


def get_profile_explanation(profile_type: str) -> Dict:
    """í”„ë¡œíŒŒì¼ ìœ í˜• ì„¤ëª… ì¡°íšŒ"""
    return PROFILE_TYPES.get(profile_type, PROFILE_TYPES['developing_balanced'])


def generate_personalized_roadmap(profile: Dict, dimensions: Dict) -> List[Dict]:
    """
    ê°œì¸í™”ëœ 4ì£¼ ë¡œë“œë§µ ìƒì„±
    
    Args:
        profile: í”„ë¡œíŒŒì¼ ì •ë³´ {'esteem_type': 'vulnerable', ...}
        dimensions: 5ì°¨ì› ì ìˆ˜ {'ìì¡´ê°_ì•ˆì •ì„±': 5.5, 'ìê¸°_ìë¹„': 4.2, ...}
    
    Returns:
        4ì£¼ ë¡œë“œë§µ ë¦¬ìŠ¤íŠ¸
    """
    profile_type = profile.get('esteem_type', 'developing_balanced')
    profile_info = get_profile_explanation(profile_type)
    priorities = profile_info['priority']
    
    # ë‚®ì€ ì ìˆ˜ ìˆœìœ¼ë¡œ ì •ë ¬ (ê°œì„ ì´ í•„ìš”í•œ ê²ƒë¶€í„°)
    sorted_dims = sorted(dimensions.items(), key=lambda x: x[1])
    weak_areas = [dim[0] for dim in sorted_dims[:2]]  # í•˜ìœ„ 2ê°œ
    strong_areas = [dim[0] for dim in sorted_dims[-2:]]  # ìƒìœ„ 2ê°œ
    
    roadmap = []
    
    # Week 1: ê°€ì¥ ì‹œê¸‰í•œ ì˜ì—­
    week1_focus = weak_areas[0] if len(weak_areas) > 0 else priorities[0]
    roadmap.append(_generate_week_plan(1, week1_focus, dimensions[week1_focus], 'urgent'))
    
    # Week 2: ë‘ ë²ˆì§¸ ì•½ì  ì˜ì—­
    week2_focus = weak_areas[1] if len(weak_areas) > 1 else priorities[1]
    roadmap.append(_generate_week_plan(2, week2_focus, dimensions[week2_focus], 'important'))
    
    # Week 3: ê°•ì  ê°•í™”
    week3_focus = strong_areas[0] if len(strong_areas) > 0 else priorities[2]
    roadmap.append(_generate_week_plan(3, week3_focus, dimensions[week3_focus], 'strengthen'))
    
    # Week 4: í†µí•© ë° ì•ˆì •í™”
    roadmap.append(_generate_week_plan(4, 'ìì¡´ê°_ì•ˆì •ì„±', dimensions.get('ìì¡´ê°_ì•ˆì •ì„±', 5.0), 'integrate'))
    
    return roadmap


def _generate_week_plan(week: int, focus_area: str, score: float, plan_type: str) -> Dict:
    """ì£¼ì°¨ë³„ ê³„íš ìƒì„±"""
    
    area_plans = {
        'ìì¡´ê°_ì•ˆì •ì„±': {
            'urgent': {
                'goal': 'ì™¸ë¶€ í‰ê°€ì— í”ë“¤ë¦¬ì§€ ì•ŠëŠ” ë‚´ì  ê¸°ì¤€ ë§Œë“¤ê¸°',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - íƒ€ì¸ì˜ í‰ê°€ì— ìì¡´ê°ì´ ë§ì´ ì˜í–¥ë°›ê³  ìˆìŠµë‹ˆë‹¤.',
                'practices': [
                    'ë§¤ì¼ ì•„ì¹¨: "ë‚˜ì˜ ê°€ì¹˜ëŠ” ___ê°€ ì•„ë‹ˆë¼ ë‚´ê°€ ì¡´ì¬í•œë‹¤ëŠ” ê²ƒ ìì²´" 3ë²ˆ ë§í•˜ê¸°',
                    'ì‹¤ì‹œê°„ ê¸°ë¡: íƒ€ì¸ì˜ í‰ê°€ê°€ ë‚˜ë¥¼ í”ë“¤ ë•Œë§ˆë‹¤ ê¸°ë¡í•˜ê³ , ë‚´ ê¸°ì¤€ ì„¸ìš°ê¸°',
                    'ì €ë… ì„±ì°°: "ì˜¤ëŠ˜ ë‚´ê°€ ì •í•œ ê¸°ì¤€ìœ¼ë¡œ ë‚˜ë¥¼ í‰ê°€í•œë‹¤ë©´?"',
                ],
                'mission': 'ì¼ì£¼ì¼ ë™ì•ˆ "íƒ€ì¸ì˜ ëˆˆì´ ì•„ë‹Œ ë‚˜ì˜ ëˆˆ"ìœ¼ë¡œ ë‚˜ë¥¼ ë°”ë¼ë³´ê¸°'
            },
            'strengthen': {
                'goal': 'ì•ˆì •ì  ìì¡´ê°ì„ ë”ìš± ê²¬ê³ í•˜ê²Œ ë§Œë“¤ê¸°',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - ì¢‹ì€ ìƒíƒœì…ë‹ˆë‹¤. ë” ê¹Šì´ ë‚´ë©´í™”í•˜ì„¸ìš”.',
                'practices': [
                    'ê°€ì¹˜ ëª…ë£Œí™”: ë‚´ ì¸ìƒì—ì„œ ì •ë§ ì¤‘ìš”í•œ 5ê°€ì§€ ê°€ì¹˜ ì ê¸°',
                    'ê°•ì  ì¼ê¸°: ë§¤ì¼ ë‚˜ì˜ í•µì‹¬ ê°•ì ì´ ì–´ë–»ê²Œ ë°œí˜„ë˜ì—ˆëŠ”ì§€ ê´€ì°°',
                    'ë©˜í† ë§: ìì¡´ê°ìœ¼ë¡œ ê³ ë¯¼í•˜ëŠ” ëˆ„êµ°ê°€ì—ê²Œ ì¡°ì–¸í•´ì£¼ê¸°',
                ],
                'mission': 'ë‚˜ë§Œì˜ "ìì¡´ê° ì² í•™" ë¬¸ì¥ìœ¼ë¡œ ì •ë¦¬í•˜ê¸°'
            }
        },
        'ìê¸°_ìë¹„': {
            'urgent': {
                'goal': 'ìê¸°ë¹„íŒì—ì„œ ìê¸°ì¹œì ˆë¡œ ì „í™˜í•˜ê¸°',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - ìì‹ ì—ê²Œ ë„ˆë¬´ ê°€í˜¹í•©ë‹ˆë‹¤.',
                'practices': [
                    'ì‹¤ìˆ˜ ì¬í•´ì„: ì‹¤ìˆ˜í–ˆì„ ë•Œ "ì¹œêµ¬ì—ê²Œ í•˜ë“¯" ìì‹ ì—ê²Œ ë§í•˜ê¸°',
                    'ìê¸°ì¹œì ˆ ë¬¸êµ¬: "ë‚˜ëŠ” ìµœì„ ì„ ë‹¤í•˜ê³  ìˆì–´" í•˜ë£¨ 10ë²ˆ ë§í•˜ê¸°',
                    'ìë¹„ ëª…ìƒ: ìì‹ ì—ê²Œ "ê³ ìƒí–ˆì–´, ê´œì°®ì•„" 5ë¶„ ëª…ìƒ',
                ],
                'mission': 'ì¼ì£¼ì¼ê°„ ìê¸°ë¹„íŒ 0ë²ˆ ë„ì „ (ì‹¤íŒ¨í•´ë„ OK!)'
            },
            'strengthen': {
                'goal': 'ìê¸°ìë¹„ë¥¼ ë” ê¹Šê³  ì¼ê´€ë˜ê²Œ ì‹¤ì²œí•˜ê¸°',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - ì´ë¯¸ ì˜í•˜ê³  ê³„ì‹­ë‹ˆë‹¤. ë” ê¹Šì´ ê°€ì„¸ìš”.',
                'practices': [
                    'ìë¹„ì˜ í™•ì¥: ìì‹ ë¿ ì•„ë‹ˆë¼ íƒ€ì¸ì—ê²Œë„ ìë¹„ ë² í’€ê¸°',
                    'ìë¹„ ì¼ê¸°: ë§¤ì¼ ìì‹ ì—ê²Œ ì¹œì ˆí–ˆë˜ ìˆœê°„ ê¸°ë¡',
                    'Loving-Kindness ëª…ìƒ: ìì‹ ê³¼ íƒ€ì¸ì„ ìœ„í•œ ìë¹„ ëª…ìƒ 10ë¶„',
                ],
                'mission': 'ìê¸°ìë¹„ì˜ 3ìš”ì†Œ(ì¹œì ˆ, ê³µí†µì¸ê°„ì„±, ë§ˆìŒì±™ê¹€) í†µí•© ì‹¤ì²œ'
            }
        },
        'ì„±ì¥_ë§ˆì¸ë“œì…‹': {
            'urgent': {
                'goal': 'ê³ ì • ë§ˆì¸ë“œì…‹ì—ì„œ ì„±ì¥ ë§ˆì¸ë“œì…‹ìœ¼ë¡œ',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - "ë‚˜ëŠ” ë³€í•  ìˆ˜ ì—†ì–´"ë¼ê³  ë¯¿ê³  ìˆë‚˜ìš”?',
                'practices': [
                    'ì–¸ì–´ ë°”ê¾¸ê¸°: "ë‚œ ëª»í•´" â†’ "ì•„ì§ ëª»í•  ë¿ì´ì•¼"',
                    'ì‹¤íŒ¨ ì¬í•´ì„: ì‹¤íŒ¨ë¥¼ "ë°°ì›€ì˜ ë°ì´í„°"ë¡œ ë³´ê¸°',
                    'ê³¼ì • ì¹­ì°¬: ê²°ê³¼ê°€ ì•„ë‹Œ ë…¸ë ¥í•œ ê³¼ì • ì¹­ì°¬í•˜ê¸°',
                ],
                'mission': 'ì´ë²ˆ ì£¼ ì‹¤íŒ¨ 1ê°œë¥¼ "í•™ìŠµ ê¸°íšŒ"ë¡œ ì¬í•´ì„í•˜ê¸°'
            },
            'strengthen': {
                'goal': 'ì„±ì¥ ë§ˆì¸ë“œì…‹ì„ ìŠµê´€í™”í•˜ê¸°',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - í›Œë¥­í•©ë‹ˆë‹¤! ë” ìë™í™”ì‹œí‚¤ì„¸ìš”.',
                'practices': [
                    'ë„ì „ ê³¼ì œ: ì¼ë¶€ëŸ¬ ì–´ë ¤ìš´ ê²ƒ ì‹œë„í•˜ê¸°',
                    'ì‹¤íŒ¨ ì¶•í•˜: ì‹œë„í–ˆë‹¤ëŠ” ê²ƒ ìì²´ë¥¼ ì¶•í•˜í•˜ê¸°',
                    'ì„±ì¥ ìŠ¤í† ë¦¬: ë‚´ê°€ ì„±ì¥í–ˆë˜ ê²½í—˜ êµ¬ì²´ì ìœ¼ë¡œ ê¸°ë¡',
                ],
                'mission': 'ì´ë²ˆ ì£¼ "comfort zone" ë²—ì–´ë‚˜ê¸° 3íšŒ'
            }
        },
        'ê´€ê³„ì _ë…ë¦½ì„±': {
            'urgent': {
                'goal': 'íƒ€ì¸ ì¸ì •ì— ëŒ€í•œ ì˜ì¡´ ì¤„ì´ê¸°',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - íƒ€ì¸ì˜ ì¸ì •ì´ ë„ˆë¬´ ì¤‘ìš”í•˜ê²Œ ëŠê»´ì§‘ë‹ˆë‹¤.',
                'practices': [
                    'ë‚´ì  ê²€ì¦: "íƒ€ì¸ì´ ì•„ë‹Œ ë‚´ê°€ ë‚˜ë¥¼ ì¸ì •í•œë‹¤ë©´?"',
                    'ì‘ì€ ê²°ì •: íƒ€ì¸ ì˜ê²¬ ë“£ì§€ ì•Šê³  í˜¼ì ê²°ì •í•˜ê¸° ì—°ìŠµ',
                    'ê±°ì ˆ ì—°ìŠµ: í•˜ê³  ì‹¶ì§€ ì•Šì€ ê²ƒ ì •ì¤‘íˆ ê±°ì ˆí•˜ê¸°',
                ],
                'mission': 'íƒ€ì¸ì˜ ìŠ¹ì¸ ì—†ì´ ë‚˜ë§Œì˜ ê²°ì • 3ê°œ ë‚´ë¦¬ê¸°'
            },
            'strengthen': {
                'goal': 'ë…ë¦½ì„±ê³¼ ì—°ê²°ì„±ì˜ ê±´ê°•í•œ ê· í˜•',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - ì¢‹ì€ ê· í˜•ì…ë‹ˆë‹¤. ìœ ì§€í•˜ì„¸ìš”.',
                'practices': [
                    'ê²½ê³„ ì„¤ì •: ê±´ê°•í•œ ê´€ê³„ ê²½ê³„ ëª…í™•íˆ í•˜ê¸°',
                    'ì„ íƒì  ê³µìœ : ì·¨ì•½ì„±ì„ ë³´ì¼ ì‚¬ëŒ ì‹ ì¤‘íˆ ì„ íƒí•˜ê¸°',
                    'ìƒí˜¸ì˜ì¡´: ì˜ì¡´ë„ ë…ë¦½ë„ ì•„ë‹Œ ìƒí˜¸ì˜ì¡´ ê´€ê³„ ë§Œë“¤ê¸°',
                ],
                'mission': 'ê±´ê°•í•œ ë…ë¦½ì„±ì„ ë³´ì—¬ì£¼ëŠ” ë©˜í†  ì—­í• í•˜ê¸°'
            }
        },
        'ì•”ë¬µì _ìì¡´ê°': {
            'urgent': {
                'goal': 'ì˜ì‹ê³¼ ë¬´ì˜ì‹ ìì¡´ê°ì˜ ì¼ì¹˜ë„ ë†’ì´ê¸°',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - ê²‰ê³¼ ì†ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.',
                'practices': [
                    'ìë™ì  ì‚¬ê³  ê´€ì°°: ë¬´ì˜ì‹ì ìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ìƒê° ê¸°ë¡í•˜ê¸°',
                    'ì§„ì •ì„± ì²´í¬: "ë‚´ê°€ ì •ë§ ì›í•˜ëŠ” ê²Œ ë­ì§€?" í•˜ë£¨ 3ë²ˆ ì§ˆë¬¸',
                    'ëª¸ì˜ ì‹ í˜¸: ë¶ˆí¸í•œ ê°ì •ì´ ëª¸ì—ì„œ ì–´ë–»ê²Œ ë‚˜íƒ€ë‚˜ëŠ”ì§€ ê´€ì°°',
                ],
                'mission': 'ì¼ì£¼ì¼ê°„ "ì§„ì§œ ë‚˜ì˜ ëª©ì†Œë¦¬" ì°¾ê¸°'
            },
            'strengthen': {
                'goal': 'ì§„ì •ì„± ìˆëŠ” ìì¡´ê° ìœ ì§€í•˜ê¸°',
                'why': f'í˜„ì¬ ì ìˆ˜ {score}/10 - í›Œë¥­í•©ë‹ˆë‹¤! ê³„ì† ìœ ì§€í•˜ì„¸ìš”.',
                'practices': [
                    'ì§„ì •ì„± ì ê²€: ê°€ì¹˜ê´€ê³¼ í–‰ë™ì˜ ì¼ì¹˜ë„ í™•ì¸',
                    'ê¹Šì€ ì„±ì°°: ì¼ì£¼ì¼ì— 1íšŒ 1ì‹œê°„ ê¹Šì€ ìê¸° ëŒ€í™”',
                    'í†µí•© ì‘ì—…: ë‹¤ì–‘í•œ ìì•„(ì§ì¥, ê°€ì •, ì¹œêµ¬ ë“±) í†µí•©í•˜ê¸°',
                ],
                'mission': '"ë‚˜ë‹¤ì›€"ì„ ë¬¸ì¥ìœ¼ë¡œ ëª…í™•íˆ ì •ì˜í•˜ê¸°'
            }
        }
    }
    
    area = area_plans.get(focus_area, {}).get(plan_type, area_plans['ìì¡´ê°_ì•ˆì •ì„±']['urgent'])
    
    return {
        'week': week,
        'focus_area': focus_area,
        'score': score,
        'goal': area['goal'],
        'why': area['why'],
        'practices': area['practices'],
        'mission': area['mission']
    }


def generate_pentagon_chart_data(dimensions: Dict) -> Dict:
    """
    5ì°¨ì› ì˜¤ê°í˜• ì°¨íŠ¸ ë°ì´í„° ìƒì„±
    
    Returns:
        {
            'labels': ['ìì¡´ê° ì•ˆì •ì„±', 'ìê¸°ìë¹„', 'ì„±ì¥ ë§ˆì¸ë“œì…‹', 'ê´€ê³„ì  ë…ë¦½ì„±', 'ì•”ë¬µì  ìì¡´ê°'],
            'values': [7.5, 6.2, 8.1, 5.5, 7.0],
            'max_value': 10
        }
    """
    return {
        'labels': list(dimensions.keys()),
        'values': list(dimensions.values()),
        'max_value': 10,
        'chart_type': 'radar',  # ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ìš©
        'description': '5ê°€ì§€ ì°¨ì›ì˜ ê· í˜•ì„ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤'
    }


# ì‚¬ìš© ì˜ˆì‹œ
if __name__ == "__main__":
    # ì˜ˆì‹œ í”„ë¡œíŒŒì¼
    test_profile = {'esteem_type': 'developing_critic'}
    test_dimensions = {
        'ìì¡´ê°_ì•ˆì •ì„±': 5.5,
        'ìê¸°_ìë¹„': 4.2,
        'ì„±ì¥_ë§ˆì¸ë“œì…‹': 7.8,
        'ê´€ê³„ì _ë…ë¦½ì„±': 6.0,
        'ì•”ë¬µì _ìì¡´ê°': 5.8
    }
    
    # í”„ë¡œíŒŒì¼ ì„¤ëª…
    explanation = get_profile_explanation('developing_critic')
    print("=" * 60)
    print(f"{explanation['emoji']} {explanation['name']}")
    print("=" * 60)
    print(explanation['full_desc'])
    
    # ê°œì¸í™”ëœ ë¡œë“œë§µ
    print("\n" + "=" * 60)
    print("ê°œì¸í™”ëœ 4ì£¼ ë¡œë“œë§µ")
    print("=" * 60)
    roadmap = generate_personalized_roadmap(test_profile, test_dimensions)
    for week_plan in roadmap:
        print(f"\nWeek {week_plan['week']}: {week_plan['focus_area']} (í˜„ì¬ {week_plan['score']}/10)")
        print(f"ëª©í‘œ: {week_plan['goal']}")
        print(f"ì´ìœ : {week_plan['why']}")
    
    # ì˜¤ê°í˜• ì°¨íŠ¸
    print("\n" + "=" * 60)
    print("5ì°¨ì› ì˜¤ê°í˜• ì°¨íŠ¸ ë°ì´í„°")
    print("=" * 60)
    chart_data = generate_pentagon_chart_data(test_dimensions)
    print(chart_data)
